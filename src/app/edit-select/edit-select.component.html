<div class="content_pre">

    <div class="card-in" *ngIf="!switch" >

        <h1>{{ 'viewUser.btnsect' | translate }}  </h1>

         <div class="titles">
            <span  [ngClass]="{'titleSelect': telVisible ==0}" > {{ 'edit.tittleInfo' | translate }}  </span>
            <span  [ngClass]="{'titleSelect': telVisible ==1}" > {{ 'edit.tittleInfoP' | translate }} </span>
            <span  [ngClass]="{'titleSelect': telVisible ==2}" > {{ 'edit.tittleDoc' | translate }}  </span>

         </div>
        
 

        <div class="inputs" >

            <div   *ngIf="telVisible==0" >

          

           <div class="groupInfos"  [formGroup]="selectform"  >

            <h2> {{ 'edit.tittleInfoH' | translate }} </h2>
            <label for=""> {{ 'viewUser.lNaissance' | translate }}</label>
            <input  type="text"  [ngClass]="{'error': selectform.controls['LieuNaissance'].invalid && selectform.controls['LieuNaissance'].value!=''}"  formControlName="LieuNaissance" placeholder="Lieu de naissance" >
          
            <label for=""> {{ 'edit.paysNaissance' | translate }} </label>
             <select  [ngClass]="{'error': selectform.controls['paysNaissance'].invalid && selectform.controls['paysNaissance'].value!='Votre pays de naissance'}"  formControlName="paysNaissance" >
               
                <option  [value]="currentUser.paysNaissance"> {{currentUser.paysNaissance}} </option>
                <option *ngFor="let item of listCountries" [value]="item">  {{item}} </option>

               </select>
            <label for=""> {{ 'viewUser.dNaissance' | translate }} </label>
            <input  type="date"  [ngClass]="{'error': selectform.controls['dateNaissance'].invalid && selectform.controls['dateNaissance'].value!=null}"  formControlName="dateNaissance" placeholder="Date de naissance" >
          
        
            <div class="groupe_Parent">

                <label for=""> {{ 'viewUser.pere' | translate }}</label>

                <div class="groupeNomsPrenoms">
                    <input class='theNom' type="text" [ngClass]="{'error': selectform.controls['pereName'].invalid && selectform.controls['pereName'].value!=''}"  formControlName="pereName"   placeholder="Nom de votre Père" >
                    <input class='theNom' type="text"  [ngClass]="{'error': selectform.controls['perePrenoms'].invalid && selectform.controls['perePrenoms'].value!=''}" formControlName="perePrenoms"  placeholder="Prénoms de votre père" >
               
                </div>
                
        
                </div>


                <div class="groupe_Parent">

                    <label for=""> {{ 'viewUser.mere' | translate }} </label>
    
                    <div class="groupeNomsPrenoms">
                         
                        <input class='theNom' type="text"  [ngClass]="{'error': selectform.controls['mereName'].invalid && selectform.controls['mereName'].value!=''}"  formControlName="mereName"  placeholder="Nom de votre mère" >
                        <input class='theNom' type="text"   [ngClass]="{'error': selectform.controls['merePrenoms'].invalid && selectform.controls['merePrenoms'].value!=''}"  formControlName="merePrenoms" placeholder="Prénoms de votre mère" >
                   
                    </div>
                    
            
                    </div>
         <div >

            <label for=""> {{ 'edit.Textpays' | translate }}</label>
        
            <select  [ngClass]="{'error': selectform.controls['derniereResidencePays'].invalid && selectform.controls['derniereResidencePays'].value!='Votre dernière Résidence (Pays)'}"  formControlName="derniereResidencePays" >
               
                <option  [value]="currentUser.derniereResidencePays"> {{currentUser.derniereResidencePays}} </option>
                <option *ngFor="let item of listCountries" [value]="item">  {{item}} </option>

               </select> 
            <label for=""> {{ 'edit.Textville' | translate }} </label>
            <input  type="text"  [ngClass]="{'error': selectform.controls['derniereResidence'].invalid && selectform.controls['derniereResidence'].value!=''}"  formControlName="derniereResidence" placeholder="ville/village de résidence" >
           
            <label for=""> {{ 'edit.Textville' | translate }} </label>
            <input  type="text"  [ngClass]="{'error': selectform.controls['derniereResidenceVillage'].invalid && selectform.controls['derniereResidenceVillage'].value!=''}"  formControlName="derniereResidenceVillage" placeholder="Quartier de résidence" >
           
            <label for=""> {{ 'viewUser.qprofessionnelle' | translate }} </label>
            <input  type="text"  [ngClass]="{'error': selectform.controls['qualiProfession'].invalid && selectform.controls['qualiProfession'].value!=''}"  formControlName="qualiProfession" placeholder="Qualification professionnelle" >
          
            <label for=""> {{ 'viewUser.pprofession' | translate }} </label>
            <input  type="text"  [ngClass]="{'error': selectform.controls['pricipalProfession'].invalid && selectform.controls['pricipalProfession'].value!=''}"  formControlName="pricipalProfession" placeholder="Profession Principale" >
           
           
            <select   formControlName="langueParler"  [ngClass]="{'error': selectform.controls['langueParler'].invalid && selectform.controls['langueParler'].value!='Langue étrangère parler'}"  >
               
                <option [value]="currentUser.langueParler"> {{currentUser.langueParler}} </option> 
                <option *ngFor="let item of listLangue" [value]="item">  {{item}} </option>

               </select>

               <label for=""> {{ 'edit.Textenfant' | translate }}</label>
            <input  type="number"  [ngClass]="{'error': selectform.controls['nbrEnfants'].invalid && selectform.controls['nbrEnfants'].value!=''}"  formControlName="nbrEnfants" placeholder="Nombre d'enfant" >
           
            <div  class="lecheck">
                <input id="lecheck_input" type="checkbox"  [ngClass]="{
                    'error': selectform.controls['dHonneur'].invalid && selectform.controls['dHonneur'].value!='', 
                    'checked':  selectform.controls['dHonneur'].value === true} " 
                     formControlName="dHonneur">
                     {{ 'edit.Textdeclaration' | translate }} 
                    
              
               </div>


               <button
                 [disabled]="!selectform.get('dHonneur')?.valid "  
                class="boutton"  (click)="suivant(1)">  {{ 'edit.btnSuiv' | translate }} </button> 
             
           </div>


          </div>

       </div>

           <div class="groupInfos" *ngIf="telVisible==1" >


                  <h2> {{ 'viewUser.exprofessionnelle' | translate }}  </h2>

                  <div  *ngIf="isValExperience" >   
                    
                    <div  *ngFor="let item of currentUser.expProfesionnel; let i = index" >

                        <label for=""> {{ 'viewUser.entreprise' | translate }}</label> 
                        <input  type="text"  [(ngModel)]="item.entreprise" placeholder="L'entrerise" >
  
                        <label for=""> {{ 'edit.pocupe' | translate }}</label>
                        <input  type="text"  [(ngModel)]="item.posteOccupe" placeholder="Poste occupé" >
  
                        <label for="">{{ 'viewUser.ddebut' | translate }} </label>
                        <input  type="date" [(ngModel)]="item.dateDebut" placeholder="La date de début" >
  
                        <label for=""> {{ 'viewUser.dfin' | translate }} </label>
                        <input  type="date"  [(ngModel)]=" item.datefin" placeholder="La date fin" >
  
                                            
                        <!-- <button  class="boutton1"   (click)="editExperience(i)"> Ajouter Modification </button>  -->
                              
  
                    </div>

                    <button  class="boutton"  (click)="activeAjoutExperience()">{{ 'edit.najoute' | translate }} </button> 

                  </div>

                  <div   *ngIf="!isValExperience">
                     
                <input  type="text"  [(ngModel)]="Lentreprise" placeholder="L'entrerise" >
                <input  type="text"  [(ngModel)]="posteOccupe" placeholder="Poste occupé" >
                <input  type="date"  [(ngModel)]="dateDebut" placeholder="La date de début" >
                <input  type="date"  [(ngModel)]="datefin" placeholder="La date fin" >

                <button [disabled]="!datefin" class="boutton"  (click)="ajout()"> {{ 'finance.btnAjoute' | translate }} </button>
                  </div>

                  <div class="lesboutonSP">

                      <button  class="boutton1"  (click)="precedent(0)"> Précédent </button> 
                      <button [disabled]="!valAjout" class="boutton"  (click)="suivant(2)">{{ 'edit.btnSuiv' | translate }} </button> 

                  </div>

           </div>
            
              
        </div>


       <div class="inputs_suivant"  *ngIf="telVisible==2" [formGroup]="selectform" >

          <p>{{ 'edit.textDoc' | translate }} </p>


         <div>

             <div class="cardFils">
                 <p>{{ 'edit.docDiplome' | translate }} </p>
                 <mat-progress-bar id="laBarDownload" mode="determinate" *ngIf="isUploading"></mat-progress-bar>

                 <span (click)="getfils()"> 
                     <img src="./../../assets/download_icon.png " alt="">
                 </span>
             </div>

             
             <div   *ngIf="!ChoixImg"  >

                <ul >
                    <li  *ngFor="let to of itemToEditImages; let i = index; trackBy: trackByFn">
                    
                      <img class="delect" (click)="delete(i) " src="./../../assets/croixDelete.png" alt="Delete">
                      <img class="imgCard" [src]="to.previewUrl" alt="Image" >
                    </li>
                  </ul>

             </div>

            



             <div class="cardFils">
                 <p>{{ 'edit.docPhoto' | translate }}</p>
                 <mat-progress-bar id="laBarDownload1" mode="determinate" *ngIf="isUploading1"></mat-progress-bar>

                 <span (click)="getfils1()"> 
                     <img src="./../../assets/download_icon.png " alt="">
                 </span>
             </div>

                  <img class="imgCardR" [src]="currentUser.fil_photo" alt="Image" >



             <div class="cardFils">
                 <p>{{ 'edit.docPasseport' | translate }} </p>
            
                 <mat-progress-bar id="laBarDownload2" mode="determinate"  *ngIf="isUploading2"></mat-progress-bar>
                 <span (click)="getfils2()"> 
                     <img src="./../../assets/download_icon.png " alt="">
                 </span>
             </div>

             <img class="imgCardR" [src]="currentUser.fil_passportPhoto" alt="Image" >


             <div class="cardFils">
                 <p>{{ 'edit.docCassier' | translate }} </p>
                   
                 <mat-progress-bar id="laBarDownload3" mode="determinate"  *ngIf="isUploading3"></mat-progress-bar>

                 <span (click)="getfils3()"> 
                     <img src="./../../assets/download_icon.png " alt="">
                 </span>
             </div>

             <img class="imgCardR" [src]="currentUser.fil_casierJudiciere" alt="Image" >


         </div>        
  
                   <input  type="file" multiple #fileInput [ngClass]="{'error': selectform.controls['fils_diplome'].invalid && selectform.controls['fils_diplome'].value!=''}"  formControlName="fils_diplome" placeholder="" (change)="onFilesSelected($event)" >
                   <input  type="file"  #fileInput1 [ngClass]="{'error': selectform.controls['fil_photo'].invalid && selectform.controls['fil_photo'].value!=''}"  formControlName="fil_photo" placeholder="" (change)="onFilesSelected1($event)" >
                   <input  type="file"  #fileInput2 [ngClass]="{'error': selectform.controls['fil_passportPhoto'].invalid && selectform.controls['fil_passportPhoto'].value!=''}"  formControlName="fil_passportPhoto" placeholder="" (change)="onFilesSelected2($event)" >
                   <input  type="file"  #fileInput3 [ngClass]="{'error': selectform.controls['fil_casierJudiciere'].invalid && selectform.controls['fil_casierJudiciere'].value!=''}"  formControlName="fil_casierJudiciere" placeholder="" (change)="onFilesSelected3($event)" >
     
 
    
         <div class="lesboutonSP">
        
             <button  class="boutton1"  (click)="precedent(1)">{{ 'edit.btnPrecede' | translate }}  </button> 
            
             <button [disabled]="selectform.get('fil_casierJudiciere')?.value === null"  class="boutton"  (click)="editSelect()">{{ 'coursAnglais.btnSoumettre' | translate }}</button> 
        
         </div>
           
</div>

</div>

<div>

    <div  *ngIf="loading" class="loader">

        <div *ngIf="!iserrorlog" class="lds-ring"><div></div><div></div><div></div></div>
      
        <div class="groupError"  *ngIf="iserrorlog" >
          <p class="smsError" >  {{message}} </p>
          <button  (click)="closeError() " >ok</button>
        </div>
      
      </div>
   
  

